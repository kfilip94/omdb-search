{"version":3,"sources":["components/Search/SearchComponent.jsx","components/Search/Search.js","constants.js","hooks/useAsync.js","layout/PageLayout.js","components/ListItem/ListItemComponent.jsx","components/ListItem/ListItem.js","components/List/List.js","components/List/ListComponent.jsx","components/MovieList/MovieListComponent.jsx","components/MovieList/MovieList.js","pages/MoviesPage.js","api/omdb.js","App.js","reportWebVitals.js","index.js"],"names":["SearchStyled","styled","div","Input","input","Component","onValueChange","placeholder","timeout","onKeyUp","e","value","target","clearTimeout","setTimeout","ASYNC_STATES","IDLE","PENDING","REJECTED","RESOLVED","asyncReducer","state","action","type","status","data","error","Error","useAsync","initialState","useReducer","dispatch","run","useCallback","promise","then","PageLayout","ListItem","li","Title","Year","title","year","console","log","map","rowData","i","imdbID","Message","search","message","List","MoviesPage","useState","setSearch","useEffect","url","process","fetch","response","a","json","responseJSON","Search","ok","Promise","reject","fetchMovies","newSearch","AppStyled","GlobalStyle","createGlobalStyle","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.614f2472.chunk.js","sourcesContent":["import React from 'react';\nimport styled from \"styled-components\";\n\nconst SearchStyled = styled.div`\n  display: flex;\n  margin: 32px 0;\n`\n\nconst Input = styled.input`\n  font-size: 24px;\n  padding: 8px 0;\n  border-bottom: 1px solid lightgray;\n`\n\nconst SearchComponent = ({ onValueChange, placeholder }) => {\n  let timeout = null;\n\n  const handleOnKeyUp = (e) => {\n    const value = e.target.value;\n    clearTimeout(timeout);\n\n    timeout = setTimeout(function () {\n      onValueChange(value)\n    }, 500);\n  }\n\n  return (\n    <SearchStyled>\n      <Input onKeyUp={handleOnKeyUp} placeholder={placeholder}/>\n    </SearchStyled>\n  );\n}\n\nexport default SearchComponent;","import Component from './SearchComponent';\nexport default Component;","export const ASYNC_STATES = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected'\n}","import { useReducer, useCallback } from 'react';\nimport { ASYNC_STATES } from '../constants.js';\n\nconst { IDLE, PENDING, REJECTED, RESOLVED } = ASYNC_STATES;\n\nconst asyncReducer = (state, action) => {\n  switch (action.type) {\n    case PENDING: {\n      return {status: PENDING, data: null, error: null}\n    }\n    case RESOLVED: {\n      return {status: RESOLVED, data: action.data, error: null}\n    }\n    case REJECTED: {\n      return {status: REJECTED, data: null, error: action.error}\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`)\n    }\n  }\n}\n\nconst useAsync = initialState => {\n  const [state, dispatch] = useReducer(asyncReducer, {\n    status: IDLE,\n    data: null,\n    error: null,\n    ...initialState,\n  })\n\n  const run = useCallback(promise => {\n    dispatch({type: PENDING})\n    promise.then(\n      data => {\n        dispatch({type: RESOLVED, data})\n      },\n      error => {\n        dispatch({type: REJECTED, error})\n      },\n    )\n  }, [])\n  return {...state, run}\n}\n\nexport default useAsync;","import styled from \"styled-components\";\n\nconst PageLayout = styled.div`\n  width: 100%;\n`\n\nexport default PageLayout;","import React from 'react';\nimport styled from \"styled-components\";\n\nconst ListItem = styled.li`\n  border: 2px solid lightgray;\n  border-radius: 4px;\n  box-sizing: border-box;\n  display: flex;\n  padding: 16px;\n  margin: 4px 0;\n  width: 100%;\n`\nconst Title = styled.div`\n  margin-right: 16px;\n`\n\nconst Year = styled.div`\n  color: gray;\n`\n\nconst ListItemComponent = ({ data }) => {\n  const { Title: title, Year: year } = data;\n  console.log({data})\n  return (\n    <ListItem>\n      <Title>{title}</Title>\n      <Year>{year}</Year>\n    </ListItem>\n  );\n}\n\nexport default ListItemComponent;","import Component from './ListItemComponent';\nexport default Component;","import Component from './ListComponent';\nexport default Component;","import React from 'react';\nimport ListItem from '../ListItem/ListItem';\n\nconst ListComponent = ({ data }) => {\n  return <li>\n    {data && data.map((rowData, i) => <ListItem key={rowData.imdbID} data={rowData}/>)}\n  </li>\n}\n\nexport default ListComponent;","import React from 'react';\nimport List from '../List/List';\nimport styled from \"styled-components\";\nimport { ASYNC_STATES } from '../../constants.js';\n\nconst Message = styled.div`\n  font-style: italic;\n  text-align: left;\n`\nconst MovieList = ({ status, search, data, error}) => {\n  const { IDLE, PENDING, REJECTED, RESOLVED } = ASYNC_STATES;\n\n  if (status === IDLE || !search) {\n    return <Message>Type a movie title to search</Message>\n  } else if (status === PENDING) {\n    return <Message>Loading...</Message>\n  } else if (status === REJECTED) {\n    return <Message>{error.message}</Message>\n  } else if (status === RESOLVED) {\n    return (\n      <div>\n        <Message>{`Results for \"${search}\":`}</Message>\n        <List data={data}/>\n      </div>\n    )\n  } else {\n    return <Message>Oops, something went wrong...</Message>\n  }\n}\n\nexport default MovieList;","import Component from './MovieListComponent';\nexport default Component;","import React, { useEffect, useState } from 'react';\nimport Search from '../components/Search/Search';\nimport { fetchMovies } from '../api/omdb';\nimport useAsync from '../hooks/useAsync';\nimport PageLayout from '../layout/PageLayout';\nimport MovieList from '../components/MovieList/MovieList';\nimport { ASYNC_STATES } from '../constants.js';\n\nconst { PENDING, IDLE } = ASYNC_STATES;\n\nconst MoviesPage = () => {\n  const [search, setSearch] = useState('');\n  const {data, status, error, run} = useAsync({\n    status: search ? PENDING : IDLE,\n  })\n\n  useEffect(() => {\n    if (!search) {\n      return\n    }\n    run(fetchMovies(search))\n}, [search, run])\n\n  return (\n    <PageLayout>\n      <Search onValueChange={(newSearch) => setSearch(newSearch)} placeholder=\"type movie title...\"/>\n      <MovieList search={search} data={data} status={status} error={error}/>\n    </PageLayout>\n  );\n}\n\nexport default MoviesPage;","const API_URL = 'https://www.omdbapi.com/';\n\nexport const fetchMovies = (search) => {\n  const API_KEY = process.env.REACT_APP_OMDB_API_KEY; \n  const url = `${API_URL}?apikey=${API_KEY}&s=${search}&page=1`\n\n  return fetch(url)\n    .then(async response => {\n      const responseJSON = await response.json()\n      const { Search: data, Error: error } = responseJSON;\n      if (response.ok) {\n        if (data) {\n          return data;\n        } else {\n          return Promise.reject(new Error(error));\n        }\n      } else { \n        const error = {\n          message: 'Something went wrong with the response, try again later'\n        }\n        return Promise.reject(error)\n      }\n    })\n}","import MoviesPage from './pages/MoviesPage';\nimport styled, { createGlobalStyle } from \"styled-components\";\n\nconst AppStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  list-style-type: none;\n  text-align: center;\n  margin: auto;\n  border-radius: 8px;\n  overflow: hidden;\n  margin: auto;\n  max-width: 600px;\n`;\n\nconst GlobalStyle = createGlobalStyle`\n  button, input {\n    border: none;\n    user-select: none;\n    outline: none;\n    cursor: pointer;\n  }\n\n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n\n  * {\n    font-family: sans-serif;\n  }\n`;\n\nconst App = () => {\n  return (\n    <AppStyled>\n      <GlobalStyle />\n      <MoviesPage />\n    </AppStyled>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}